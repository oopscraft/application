<!DOCTYPE html>
<html layout:decorate="~{admin/__admin.html}">
<div layout:fragment="content">
	<script>
		var searchCondition = new duice.Map({
			key: '',
			value: '',
			joinDateFrom: '',
			joinDateTo: '',
			status: ''
		});

		function getUsers() {
			$.ajax({
				 url: 'user/getUsers'
				,type: 'GET'
				,data: null
				,success: function(data, textStatus, jqXHR) {
					console.log(data);
					users.fromJson(data);
		   	 	}
				,error: function(e){
					console.log(e);
				}
			});	
		}
		
		$( document ).ready(function() {
		    console.log( "ready!" );
		    //getUsers();
		});
	</script>
	<div class="content-title">
		<div>
			<h1>User Management
				<small>
					(Total:
					<span is="duice-ui-scriptlet" data-duice-bind="users">
						return $context.users.getSize();
					</span>
					users)
				</small>
			</h1>
		</div>
		<div>
		</div>
	</div>
	<div class="content-search">
		<div>
			<select is="duice-ui-select" data-duice-bind="searchCondition,key" style="width:100px;">
				<option>- select -</option>
				<option value="id">ID</option>
				<option value="name">Name</option>
			</select>
			<input is="duice-ui-input" type="text" data-duice-bind="searchCondition,value" style="width:200px;"/>
			<span class="content-search__label">Join Date</span>
			<input is="duice-ui-input" type="date" data-duice-bind="searchCondition,value" style="width:100px;"/>
			-
			<input is="duice-ui-input" type="date" data-duice-bind="searchCondition,value" style="width:100px;"/>
			<span class="content-search__label">Status</span>
			<select is="duice-ui-select" data-duice-bind="searchCondition,key" style="width:100px;">
				<option>- select -</option>
				<option value="id">ID</option>
				<option value="name">Name</option>
			</select>
		</div>
		<div>
			<button class="button" onclick="users.reset();">
				<img class="button-image" src="/static/image/icon_search_16px.png"/>
				Search
			</button>
			<button class="button" onclick="users.reset();">
				<img class="button-image" src="/static/image/icon_new_16px.png"/>
				New
			</button>
			<button class="button" onclick="users.reset();">
				<img class="button-image" src="/static/image/icon_delete_16px.png"/>
				Delete
			</button>
		</div>
	</div>
	<div class="content-result">
		<table is="duice-ui-table" 
			data-duice-bind="users,user" 
			data-duice-editable="true"
			style="width:100%;">
			<thead>
				<tr>
					<th>No</th>
					<th>ID</th>
					<th>Name</th>
					<th>Nickname</th>
					<th>Email</th>
					<th>Phone</th>
					<th>joinDate</th>
					<th>closeDate</th>
					<th>Status</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><span is="duice-ui-scriptlet" data-duice-bind="users">return $context.index+1;</span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,id"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,name"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,nickname"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,email"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,phone"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,joinDate"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,closeDate"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,status"></span></td>
				</tr>
			</tbody>
		</table>
	</div>
	<div style="padding:1px; display:flex; justify-content:space-between; align-items:baseline;">
		<div>
		</div>
	</div>
</div>
