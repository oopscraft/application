<!DOCTYPE html>
<html layout:decorate="~{admin/__admin.html}">
<div layout:fragment="content">
	<script>
		var searchCondition = new duice.Map({
			key: '',
			value: '',
			joinDateFrom: '',
			joinDateTo: '',
			status: ''
		});

		function getUsers() {
			$.ajax({
				 url: 'user/getUsers'
				,type: 'GET'
				,data: null
				,success: function(data, textStatus, jqXHR) {
					console.log(data);
					users.fromJson(data);
		   	 	}
				,error: function(e){
					console.log(e);
				}
			});	
		}
		
		$( document ).ready(function() {
		    console.log( "ready!" );
		    //getUsers();
		});
	</script>
	<div class="content-title">
		<div>
			<h1>Group Management
				<small>
					(Total:
					<span is="duice-ui-scriptlet" data-duice-bind="users">
						return $context.users.getSize();
					</span>
					users)
				</small>
			</h1>
		</div>
		<div>
		</div>
	</div>
	<div style="display:flex; justify-content:space-between;">
		<div style="width:49%;">
			<div class="content-search">
				<div>
					<select is="duice-ui-select" data-duice-bind="searchCondition,key" style="width:100px;">
						<option>- select -</option>
						<option value="id">ID</option>
						<option value="name">Name</option>
					</select>
					<input is="duice-ui-input" type="text" data-duice-bind="searchCondition,value" style="width:200px;"/>
					<span class="content-search__label">Status</span>
					<select is="duice-ui-select" data-duice-bind="searchCondition,key" style="width:100px;">
						<option>- select -</option>
						<option value="id">ID</option>
						<option value="name">Name</option>
					</select>
				</div>
				<div>
					<button class="button" onclick="users.reset();">
						<img class="button-image" src="/static/image/icon_search_16px.png"/>
						Search
					</button>
				</div>
			</div>
			<div class="content-result">	
				<ul is="duice-ui-ul" 
					data-duice-bind="users,user" 
					data-duice-editable="false"
					data-duice-hierarchy="id,parentId"
					data-duice-foldable="true">
					<li style="line-height:2.4;">
						<div style="display:flex;justify-content:space-between;align-items:center;border-bottom:dotted 1px #ccc;padding:2px;">
							<div>
								<img is="duice-ui-img" data-duice-bind="user,image" style="height:32px;"/>
								<span is="duice-ui-span" data-duice-bind="user,name" style="font-weight:bold;"></span>
								<span is="duice-ui-span" data-duice-bind="user,parentId" style="font-size:10px;color:#aaa;"></span>
							</div>
							<div>
								<table>
									<col/>
									<col width="80px"/>
									<col/>
									<col width="100px"/>
									<col/>
									<col width="80px"/>
									<tr>
										<td>balance</td>
										<td><input is="duice-ui-input" type="number" data-duice-bind="user,balance"/></td>
										<td>birthday</td>
										<td><input is="duice-ui-input" type="date" data-duice-bind="user,birthday"/></td>
										<td>groupId</td>
										<td><select is="duice-ui-select" data-duice-bind="user,groupId"><option>- select -</option></select></td>
									</tr>
								</table>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div style="width:49%;">
			<div class="content-search">
				<div>
					<h2>Group Management
						<small>
							(Total:
							<span is="duice-ui-scriptlet" data-duice-bind="users">
								return $context.users.getSize();
							</span>
							users)
						</small>
					</h2>
				</div>
				<div>
					<button class="button" onclick="users.reset();">
						<img class="button-image" src="/static/image/icon_new_16px.png"/>
						New
					</button>
					<button class="button" onclick="users.reset();">
						<img class="button-image" src="/static/image/icon_delete_16px.png"/>
						Delete
					</button>
				</div>
			</div>
			<table class="table" style="width:100%;">
				<col align="left" />
				<col align="left" />
				<col align="right" />
				<tbody>
					<tr>
						<th rowspan="4">duice.ui.Span</th>
						<td><span is="duice-ui-span" data-duice-bind="user,id"></span></td>
					</tr>
					<tr>
						<td><span is="duice-ui-span" data-duice-bind="user,socialNo" data-duice-format="string,######-#######"></span></td>
					</tr>
					<tr>
						<td align="right"><span is="duice-ui-span" data-duice-bind="user,balance" data-duice-format="number,2"></span></td>
					</tr>
					<tr>
						<td align="center"><span is="duice-ui-span" data-duice-bind="user,hireDate" data-duice-format="date,yyyy.MM.dd HH:mm:ss"></span></td>
					</tr>
					<tr>
						<th rowspan="2">duice.ui.TextInput</th>
						<td><input is="duice-ui-input" type="text" data-duice-bind="user,name"/></td>
					</tr>
					<tr>
						<td><input is="duice-ui-input" type="text" data-duice-bind="user,socialNo" data-duice-format="######-#######"/></td>
					</tr>
					<tr>
						<th>duice.ui.NumberInput</th>
						<td><input is="duice-ui-input" type="number" data-duice-bind="user,balance" data-duice-format="2"/></td>
					</tr>
					<tr>
						<th>duice.ui.DatetimeInput</th>
						<td align="center">
							<input is="duice-ui-input" type="datetime-local" data-duice-bind="user,hireDate"/>
						</td>
					</tr>
					<tr>
						<th>duice.ui.CheckboxInput</th>
						<td align="center">
							<input is="duice-ui-input" type="checkbox" data-duice-bind="user,active"/>
						</td>
					</tr>
					<tr>
						<th>duice.ui.RadioInput</th>
						<td align="center">
							<input is="duice-ui-input" type="radio" data-duice-bind="user,gender" value="M"/>Male
							<input is="duice-ui-input" type="radio" data-duice-bind="user,gender" value="F"/>Female
						</td>
					</tr>
					<tr>
						<th>duice.ui.Select</th>
						<td>
							<select is="duice-ui-select" data-duice-bind="user,groupId">
								<option> - select - </option>
								<option value="animal">Animal</option>
								<option value="fruit">Fruit</option>
								<option value="human">Human</option>
							</select>
						</td>
					</tr>
					<tr>
						<th>duice.ui.Image</th>
						<td>
							<img is="duice-ui-img" data-duice-bind="user,image"/>
						</td>
					</tr>
					<tr>
						<th>duice.ui.Textarea</th>
						<td><textarea is="duice-ui-textarea" data-duice-bind="user,profile"></textarea></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	
	
	
	<div class="content-search">
		<div>
			<select is="duice-ui-select" data-duice-bind="searchCondition,key" style="width:100px;">
				<option>- select -</option>
				<option value="id">ID</option>
				<option value="name">Name</option>
			</select>
			<input is="duice-ui-input" type="text" data-duice-bind="searchCondition,value" style="width:200px;"/>
			<span class="content-search__label">Join Date</span>
			<input is="duice-ui-input" type="date" data-duice-bind="searchCondition,value" style="width:100px;"/>
			-
			<input is="duice-ui-input" type="date" data-duice-bind="searchCondition,value" style="width:100px;"/>
			<span class="content-search__label">Status</span>
			<select is="duice-ui-select" data-duice-bind="searchCondition,key" style="width:100px;">
				<option>- select -</option>
				<option value="id">ID</option>
				<option value="name">Name</option>
			</select>
		</div>
		<div>
			<button class="button" onclick="users.reset();">
				<img class="button-image" src="/static/image/icon_search_16px.png"/>
				Search
			</button>
			<button class="button" onclick="users.reset();">
				<img class="button-image" src="/static/image/icon_new_16px.png"/>
				New
			</button>
			<button class="button" onclick="users.reset();">
				<img class="button-image" src="/static/image/icon_delete_16px.png"/>
				Delete
			</button>
		</div>
	</div>
	<div class="content-result">
		<table is="duice-ui-table" 
			data-duice-bind="users,user" 
			data-duice-editable="true"
			style="width:100%;">
			<thead>
				<tr>
					<th>No</th>
					<th>ID</th>
					<th>Name</th>
					<th>Nickname</th>
					<th>Email</th>
					<th>Phone</th>
					<th>joinDate</th>
					<th>closeDate</th>
					<th>Status</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><span is="duice-ui-scriptlet" data-duice-bind="users">return $context.index+1;</span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,id"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,name"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,nickname"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,email"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,phone"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,joinDate"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,closeDate"></span></td>
					<td><span is="duice-ui-span" data-duice-bind="user,status"></span></td>
				</tr>
			</tbody>
		</table>
	</div>
	<div style="padding:1px; display:flex; justify-content:space-between; align-items:baseline;">
		<div>
		</div>
	</div>
</div>
