<?xml version="1.0" encoding="UTF-8"?>
<application class="net.oopscraft.application.Application">

	<!-- ====================================================== -->
	<!-- Embedded WebServer(Tomcat) Definition					-->
	<!-- ====================================================== -->
	<webServer id="webServer">
		<port>${application.webServer.port}</port>
		<ssl>${application.webSerer.ssl}</ssl>
		<keyStorePath>${application.webSerer.keyStorePath}</keyStorePath>
		<keyStoreType>${application.webSerer.keyStoreType}</keyStoreType>
		<keyStorePass>${application.webSerer.keyStorePass}</keyStorePass>
		<context path="/">
			<resourceBase>webapp/application</resourceBase>
			<descriptor>webapp/application/WEB-INF/web.xml</descriptor>
		</context>
	</webServer>

	<!-- ====================================================== -->
	<!-- DataSource Definition									-->
	<!-- ====================================================== -->
	<dataSource id="dataSource">
		<driver>${application.dataSource.oltp.driver}</driver>
		<url>${application.dataSource.oltp.url}</url>
		<username>${application.dataSource.oltp.username}</username>
		<password>${application.dataSource.oltp.password}</password>
		<defaultAutoCommit>${application.dataSource.oltp.defaultAutoCommit}</defaultAutoCommit>
		<initialSize>${application.dataSource.oltp.initialSize}</initialSize>
		<maxActive>${application.dataSource.oltp.maxActive}</maxActive>
		<validationQuery>${application.dataSource.oltp.validationQuery}</validationQuery>
	</dataSource>
	
	<!-- ====================================================== -->
	<!-- JPA+Hibernate EntityManagerFactory Definition			-->
	<!-- ====================================================== -->
	<entityManagerFactory id="entityManagerFactory">
		<dataSource>dataSource</dataSource>
		<databasePlatform>org.hibernate.dialect.MySQLDialect</databasePlatform>
		<packagesToScan>net.oopscraft.application</packagesToScan>
	</entityManagerFactory>
	
	<!-- ====================================================== -->
	<!-- MYBATIS SqlSessionFactory Definition					-->
	<!-- ====================================================== -->
	<sqlSessionFactory id="sqlSessionFactory">
		<dataSource>dataSource</dataSource>
		<mapperLocations>classpath*:net/oopscraft/application/**/*Mapper.xml</mapperLocations>
		<configuration>
			<cacheEnabled>false</cacheEnabled>
			<callSettersOnNulls>true</callSettersOnNulls>
			<mapUnderscoreToCamelCase>true</mapUnderscoreToCamelCase>
		</configuration>
	</sqlSessionFactory>
	
	<!-- ====================================================== -->
	<!-- Message Source											-->
	<!-- ====================================================== -->
	<messageSource id="messageSource">
		<basename>/WEB-INF/message/message</basename>
		<cacheSeconds>3</cacheSeconds>
	</messageSource>
	

</application>